{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Button","onClick","text","Person","person","removePerson","name","number","id","Persons","personsToShow","map","key","baseUrl","axios","get","then","response","data","newObject","post","delete","changedPerson","put","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","notificationType","setNotificationType","useEffect","personsService","initialPersons","filter","toLowerCase","includes","event","target","preventDefault","personObject","length","find","window","confirm","indexOfPersonToChange","findIndex","updatedPersons","catch","error","setTimeout","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e876921e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({newFilter, handleFilterChange}) => {\n\n  return (\n    <div>\n      filter shown with <input value={newFilter} onChange={handleFilterChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handlePersonChange, newNumber, handleNumberChange}) => {\n  return(\n    <>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handlePersonChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  )\n\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Button = ({onClick, text}) => (\n  <button onClick={onClick}>\n    {text}\n  </button>\n)\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst Person = ({person, removePerson}) => {\n  return(\n    <div>\n      {`${person.name} ${person.number}`} \n      <Button text='delete' onClick={removePerson(person.id)}/>\n    </div>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({personsToShow, removePerson}) => {\n  return (\n    <>\n      {personsToShow.map(person => <Person key={person.name} person={person} removePerson={removePerson} />)}\n    </>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons/'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n} \n\nconst update = changedPerson => {\n  const request = axios.put(`${baseUrl}/${changedPerson.id}`, changedPerson)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification ","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/persons' \nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n  const [ notificationType, setNotificationType] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    }\n\n    if(persons.find(person => person.name === newName)){\n\n      const name = personObject.name\n\n      if(window.confirm(`${name} is already in the phonebook, would you like to replace the old number with a new one?`)){\n        const indexOfPersonToChange = persons.findIndex(person => person.name === name)\n        const changedPerson = {...persons[indexOfPersonToChange], number: newNumber}\n        const updatedPersons = [...persons]\n        updatedPersons[indexOfPersonToChange].number = newNumber\n        personsService\n          .update(changedPerson)\n          .then(response => {\n            setPersons(updatedPersons)\n            setNotificationMessage(`Updated ${personObject.name}`)\n            setNotificationType(\"update\")\n          })\n          .catch(error => {\n            setNotificationMessage(`Information on ${personObject.name} has already been removed from server`)\n            setNotificationType(\"error\")\n          })\n      }\n\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n    }\n    else{\n      personsService\n        .create(personObject)\n        .then(data => {\n          setPersons(persons.concat(personObject))\n          setNewName('')\n        })\n        setNotificationMessage(`Added ${newName}`)\n        setNotificationType(\"add\")\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n    }\n  }\n\n  const removePerson = (id) => () => {\n    const personToDelete = persons.find(person => person.id === id);\n    if(window.confirm(`Delete ${personToDelete.name}?`)){\n      personsService.remove(id);\n      setPersons(persons.filter(person => person.id !== id))\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notificationMessage} type={notificationType} />\n\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} handlePersonChange={handlePersonChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}